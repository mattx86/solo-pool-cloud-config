# Solo Pool WebUI Configuration
# Copy this file to config.toml and edit as needed

[server]
host = "0.0.0.0"
port = 8080

# Stats refresh interval in seconds
refresh_interval_secs = 10

# Database directory for worker stats
db_dir = "/opt/solo-pool/webui/data"

# HTTPS Configuration
# Uses a self-signed certificate by default (10-year validity)
[server.https]
enabled = true
port = 8443
cert_path = "/opt/solo-pool/webui/certs/server.crt"
key_path = "/opt/solo-pool/webui/certs/server.key"

# Logging Configuration
# Apache Combined Log Format for access.log, standard format for error.log
[server.logging]
log_dir = "/opt/solo-pool/webui/logs"
access_log_enabled = true
error_log_enabled = true

# =============================================================================
# Authentication Configuration
# Protects the WebUI with username/password login
# =============================================================================
[auth]
enabled = true
# Credentials file containing SOLO_POOL_WEBUI_USER and SOLO_POOL_WEBUI_PASS
credentials_file = "/opt/solo-pool/.credentials"
# Session timeout in seconds (default: 24 hours)
session_timeout_secs = 86400
# Cookie name for session management
cookie_name = "solo_pool_session"

# =============================================================================
# CKPool-based pools (BTC, BCH, DGB)
# Uses Unix socket API exclusively for real-time stats
# Each pool instance must have its own socket directory configured via -s flag
# =============================================================================

# Bitcoin Pool (CKPool)
[pools.btc]
enabled = true
name = "Bitcoin"
algorithm = "SHA-256"
# Unix socket directory - CKPool listens here for API commands
# CKPool must be started with: ckpool -s /tmp/ckpool-btc ...
# Socket path will be: {socket_dir}/stratifier
socket_dir = "/tmp/ckpool-btc"
stratum_port = 3333

# Bitcoin Cash Pool (CKPool)
[pools.bch]
enabled = true
name = "Bitcoin Cash"
algorithm = "SHA-256"
socket_dir = "/tmp/ckpool-bch"
stratum_port = 3334

# DigiByte Pool (CKPool)
[pools.dgb]
enabled = true
name = "DigiByte"
algorithm = "SHA-256"
socket_dir = "/tmp/ckpool-dgb"
stratum_port = 3335

# =============================================================================
# Monero/Tari Pools
# Only ONE of these three should be enabled based on ENABLE_MONERO_TARI_POOL
# =============================================================================

# Monero Pool (monero-pool) - Only for monero_only mode
[pools.xmr]
enabled = false
name = "Monero"
algorithm = "RandomX"
api_url = "http://127.0.0.1:4243"
stratum_port = 3336
# Pool wallet address (auto-populated during installation)
# This is the address that receives block rewards for PPLNS distribution
# pool_wallet_address = "4..."

# Tari Pool (minotari_miner) - Only for tari_only mode
[pools.xtm]
enabled = false
name = "Tari"
algorithm = "RandomX"
api_url = "http://127.0.0.1:3337"
stratum_port = 3337
# Pool wallet address (auto-populated during installation)
# pool_wallet_address = "..."

# XMR+XTM Merge Mining (minotari_merge_mining_proxy) - For merge mode
[pools.xmr_xtm_merge]
enabled = true
name = "XMR+XTM Merge Mining"
algorithm = "RandomX"
api_url = "http://127.0.0.1:3338"
stratum_port = 3338
# Pool wallet addresses (auto-populated during installation)
# xmr_pool_wallet_address = "4..."
# xtm_pool_wallet_address = "..."

# =============================================================================
# ALEO Pool
# =============================================================================

# ALEO Pool (aleo-pool-server)
[pools.aleo]
enabled = true
name = "Aleo"
algorithm = "AleoBFT"
api_url = "http://127.0.0.1:4000"
stratum_port = 3339
# Pool wallet address (auto-populated during installation)
# pool_wallet_address = "aleo1..."
